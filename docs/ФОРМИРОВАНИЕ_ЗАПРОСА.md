# –ö–∞–∫ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞ –¥–ª—è –ø–æ–∏—Å–∫–∞ –≤ –ë–î

## üéØ –û–±—â–∏–π –ø—Ä–æ—Ü–µ—Å—Å

–§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ SQL –∑–∞–ø—Ä–æ—Å–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ –Ω–µ—Å–∫–æ–ª—å–∫–æ —ç—Ç–∞–ø–æ–≤, –Ω–∞—á–∏–Ω–∞—è –æ—Ç –¥–µ–π—Å—Ç–≤–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.

---

## üìã –ü–æ—à–∞–≥–æ–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å

### –®–ê–ì 1: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ø–æ–ª–Ω—è–µ—Ç —Ñ–æ—Ä–º—É

**–ù–∞ —Å–∞–π—Ç–µ (Vue.js):**
```javascript
// –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
searchParams = {
    color: "—Å–∏–Ω–∏–π",
    sizeMin: 30,
    sizeMax: 50,
    habitat: "–≤–æ–¥–æ–µ–º"
}
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç —Ç–∏–ø –Ω–∞—Å–µ–∫–æ–º–æ–≥–æ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å—Ç—Ä–µ–∫–æ–∑–∞)
- –ó–∞–ø–æ–ª–Ω—è–µ—Ç –ø–æ–ª—è —Ñ–∏–ª—å—Ç—Ä–æ–≤ (—Ü–≤–µ—Ç, —Ä–∞–∑–º–µ—Ä, –º–µ—Å—Ç–æ –æ–±–∏—Ç–∞–Ω–∏—è)
- –ù–∞–∂–∏–º–∞–µ—Ç –∫–Ω–æ–ø–∫—É "–ù–∞–π—Ç–∏"

---

### –®–ê–ì 2: Vue.js –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å –Ω–∞ —Å–µ—Ä–≤–µ—Ä

**–í app.js:**
```javascript
async searchInsects() {
    // –°–æ–±–∏—Ä–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ñ–æ—Ä–º—ã
    const requestData = {
        type: this.selectedType,  // 'dragonfly'
        params: this.searchParams  // {color: "—Å–∏–Ω–∏–π", sizeMin: 30, ...}
    };
    
    // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º POST –∑–∞–ø—Ä–æ—Å
    const response = await fetch('/api/search', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(requestData)  // –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –≤ JSON
    });
}
```

**–ß—Ç–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è:**
```json
{
    "type": "dragonfly",
    "params": {
        "color": "—Å–∏–Ω–∏–π",
        "sizeMin": 30,
        "sizeMax": 50,
        "habitat": "–≤–æ–¥–æ–µ–º"
    }
}
```

---

### –®–ê–ì 3: Flask –ø–æ–ª—É—á–∞–µ—Ç –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å

**–í app.py:**
```python
@app.route('/api/search', methods=['POST'])
def search_insects():
    # –ü–æ–ª—É—á–∞–µ–º JSON –¥–∞–Ω–Ω—ã–µ –æ—Ç –∫–ª–∏–µ–Ω—Ç–∞
    data = request.json
    
    # –ò–∑–≤–ª–µ–∫–∞–µ–º —Ç–∏–ø –Ω–∞—Å–µ–∫–æ–º–æ–≥–æ –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
    insect_type = data.get('type')      # 'dragonfly'
    params = data.get('params', {})     # {color: "—Å–∏–Ω–∏–π", sizeMin: 30, ...}
    
    # –í—ã–∑—ã–≤–∞–µ–º –º–µ—Ç–æ–¥ –ø–æ–∏—Å–∫–∞ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
    results = db.search_insects(insect_type, params)
    
    # –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∫–ª–∏–µ–Ω—Ç—É
    return jsonify({'results': results})
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
- Flask –ø–æ–ª—É—á–∞–µ—Ç JSON –¥–∞–Ω–Ω—ã–µ
- –ò–∑–≤–ª–µ–∫–∞–µ—Ç —Ç–∏–ø –Ω–∞—Å–µ–∫–æ–º–æ–≥–æ –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–∏—Å–∫–∞
- –ü–µ—Ä–µ–¥–∞–µ—Ç –∏—Ö –≤ –º–µ—Ç–æ–¥ `db.search_insects()`

---

### –®–ê–ì 4: Database.py –Ω–∞—á–∏–Ω–∞–µ—Ç —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å SQL –∑–∞–ø—Ä–æ—Å

**–í database.py - –Ω–∞—á–∞–ª–æ –º–µ—Ç–æ–¥–∞ search_insects():**
```python
def search_insects(self, insect_type: str, params: Dict) -> List[Dict]:
    # 1. –û–ø—Ä–µ–¥–µ–ª—è–µ–º –∏–º—è —Ç–∞–±–ª–∏—Ü—ã
    table_names = {
        'dragonfly': 'dragonflies',
        'beetle': 'beetles',
        'butterfly': 'butterflies'
    }
    table_name = table_names.get(insect_type)  # 'dragonflies'
    
    # 2. –°–æ–∑–¥–∞–µ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
    conn = self.get_connection()
    cursor = conn.cursor(cursor_factory=RealDictCursor)
    
    # 3. –ù–∞—á–∏–Ω–∞–µ–º —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å SQL –∑–∞–ø—Ä–æ—Å
    query = f"SELECT * FROM {table_name} WHERE 1=1"
    conditions = []  # –°–ø–∏—Å–æ–∫ —É—Å–ª–æ–≤–∏–π WHERE
    values = []      # –°–ø–∏—Å–æ–∫ –∑–Ω–∞—á–µ–Ω–∏–π –¥–ª—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞
```

**–ù–∞—á–∞–ª—å–Ω—ã–π SQL:**
```sql
SELECT * FROM dragonflies WHERE 1=1
```

**–ü–æ—á–µ–º—É `WHERE 1=1`?**
- –≠—Ç–æ –≤—Å–µ–≥–¥–∞ –∏—Å—Ç–∏–Ω–∞, –ø–æ–∑–≤–æ–ª—è–µ—Ç –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å —É—Å–ª–æ–≤–∏—è —á–µ—Ä–µ–∑ `AND`
- –£–ø—Ä–æ—â–∞–µ—Ç —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞

---

### –®–ê–ì 5: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —É—Å–ª–æ–≤–∏–π –ø–æ–∏—Å–∫–∞

**–î–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –ø—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ –æ–Ω –≤ –∑–∞–ø—Ä–æ—Å–µ:**

```python
# –û–±—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (–¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –Ω–∞—Å–µ–∫–æ–º—ã—Ö)

# 1. –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä
if params.get('size_min'):
    conditions.append("size_max >= %s")  # –î–æ–±–∞–≤–ª—è–µ–º —É—Å–ª–æ–≤–∏–µ
    values.append(float(params['size_min']))  # –î–æ–±–∞–≤–ª—è–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ

# 2. –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä
if params.get('size_max'):
    conditions.append("size_min <= %s")
    values.append(float(params['size_max']))

# 3. –¶–≤–µ—Ç
if params.get('color'):
    conditions.append("color ILIKE %s")  # ILIKE = –ø–æ–∏—Å–∫ –±–µ–∑ —É—á–µ—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞
    values.append(f"%{params['color']}%")  # %—Å–∏–Ω–∏–π% = —Å–æ–¥–µ—Ä–∂–∏—Ç "—Å–∏–Ω–∏–π"

# 4. –ú–µ—Å—Ç–æ –æ–±–∏—Ç–∞–Ω–∏—è
if params.get('habitat'):
    conditions.append("habitat ILIKE %s")
    values.append(f"%{params['habitat']}%")

# 5. –ü–µ—Ä–∏–æ–¥ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
if params.get('season'):
    conditions.append("season ILIKE %s")
    values.append(f"%{params['season']}%")
```

**–ü–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤:**
```python
conditions = [
    "size_max >= %s",      # –¥–ª—è sizeMin: 30
    "size_min <= %s",      # –¥–ª—è sizeMax: 50
    "color ILIKE %s",      # –¥–ª—è color: "—Å–∏–Ω–∏–π"
    "habitat ILIKE %s"     # –¥–ª—è habitat: "–≤–æ–¥–æ–µ–º"
]

values = [
    30.0,                  # size_min
    50.0,                  # size_max
    "%—Å–∏–Ω–∏–π%",             # color
    "%–≤–æ–¥–æ–µ–º%"             # habitat
]
```

---

### –®–ê–ì 6: –°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è —Å—Ç—Ä–µ–∫–æ–∑

**–ï—Å–ª–∏ —Ç–∏–ø –Ω–∞—Å–µ–∫–æ–º–æ–≥–æ - —Å—Ç—Ä–µ–∫–æ–∑–∞:**
```python
if insect_type == 'dragonfly':
    # –î–ª–∏–Ω–∞ —Ç–µ–ª–∞
    if params.get('body_length_min'):
        conditions.append("size_max >= %s")
        values.append(float(params['body_length_min']))
    
    # –†–∞–∑–º–∞—Ö –∫—Ä—ã–ª—å–µ–≤ (–∏—â–µ–º –≤ –æ–ø–∏—Å–∞–Ω–∏–∏)
    if params.get('wingspan_min'):
        conditions.append("description ILIKE %s")
        values.append(f"%—Ä–∞–∑–º–∞—Ö%{params['wingspan_min']}%")
    
    # –¶–≤–µ—Ç –≥–ª–∞–∑ (–∏—â–µ–º –≤ –æ–ø–∏—Å–∞–Ω–∏–∏)
    if params.get('eye_color'):
        conditions.append("description ILIKE %s")
        values.append(f"%—Ü–≤–µ—Ç –≥–ª–∞–∑%{params['eye_color']}%")
    
    # –¢–∏–ø –≤–æ–¥–æ–µ–º–∞ (–∏—â–µ–º –≤ –æ–ø–∏—Å–∞–Ω–∏–∏)
    if params.get('environment'):
        conditions.append("description ILIKE %s")
        values.append(f"%—Å—Ä–µ–¥–∞%{params['environment']}%")
    
    # –ü–æ–ª
    if params.get('gender'):
        conditions.append("description ILIKE %s")
        values.append(f"%{params['gender']}%")
```

**–ü—Ä–∏–º–µ—Ä –¥–ª—è —Å—Ç—Ä–µ–∫–æ–∑—ã —Å –ø–æ–ª–æ–º:**
```python
# –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±—Ä–∞–ª "—Å–∞–º–µ—Ü"
if params.get('gender') == '—Å–∞–º–µ—Ü':
    conditions.append("description ILIKE %s")
    values.append("%—Å–∞–º–µ—Ü%")
```

---

### –®–ê–ì 7: –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö —É—Å–ª–æ–≤–∏–π

**–§–æ—Ä–º–∏—Ä—É–µ–º —Ñ–∏–Ω–∞–ª—å–Ω—ã–π SQL –∑–∞–ø—Ä–æ—Å:**
```python
# –û–±—ä–µ–¥–∏–Ω—è–µ–º –≤—Å–µ —É—Å–ª–æ–≤–∏—è —á–µ—Ä–µ–∑ AND
if conditions:
    query += " AND " + " AND ".join(conditions)
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```sql
SELECT * FROM dragonflies 
WHERE 1=1 
AND size_max >= %s 
AND size_min <= %s 
AND color ILIKE %s 
AND habitat ILIKE %s
```

**–°–ø–∏—Å–æ–∫ –∑–Ω–∞—á–µ–Ω–∏–π:**
```python
values = [30.0, 50.0, "%—Å–∏–Ω–∏–π%", "%–≤–æ–¥–æ–µ–º%"]
```

---

### –®–ê–ì 8: –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞

**–ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å (–±–µ–∑–æ–ø–∞—Å–Ω—ã–π —Å–ø–æ—Å–æ–±):**
```python
# –í—ã–ø–æ–ª–Ω—è–µ–º –∑–∞–ø—Ä–æ—Å —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
cursor.execute(query, values)
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
- PostgreSQL –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è –≤–º–µ—Å—Ç–æ `%s`
- –ó–∞—â–∏—Ç–∞ –æ—Ç SQL-–∏–Ω—ä–µ–∫—Ü–∏–π
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–∞

**–§–∏–Ω–∞–ª—å–Ω—ã–π SQL (—á—Ç–æ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ –ë–î):**
```sql
SELECT * FROM dragonflies 
WHERE 1=1 
AND size_max >= 30.0 
AND size_min <= 50.0 
AND color ILIKE '%—Å–∏–Ω–∏–π%' 
AND habitat ILIKE '%–≤–æ–¥–æ–µ–º%'
```

---

### –®–ê–ì 9: –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

```python
# –ü–æ–ª—É—á–∞–µ–º –≤—Å–µ –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –∑–∞–ø–∏—Å–∏
results = cursor.fetchall()

# –ó–∞–∫—Ä—ã–≤–∞–µ–º –∫—É—Ä—Å–æ—Ä –∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
cursor.close()
conn.close()

# –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –≤ —Å–ø–∏—Å–æ–∫ —Å–ª–æ–≤–∞—Ä–µ–π
return [dict(row) for row in results]
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```python
[
    {
        'id': 1,
        'name_ru': '–°—Ç—Ä–µ–∫–æ–∑–∞ —Å–∏–Ω—è—è',
        'name_lat': 'Libellula quadrimaculata',
        'size_min': 35.0,
        'size_max': 45.0,
        'color': '—Å–∏–Ω–∏–π',
        'habitat': '–≤–æ–¥–æ–µ–º—ã',
        ...
    },
    {
        'id': 2,
        'name_ru': '–î—Ä—É–≥–∞—è —Å–∏–Ω—è—è —Å—Ç—Ä–µ–∫–æ–∑–∞',
        ...
    }
]
```

---

## üîç –ü–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞

### –í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:
```python
insect_type = 'dragonfly'
params = {
    'color': '—Å–∏–Ω–∏–π',
    'sizeMin': 30,
    'sizeMax': 50,
    'habitat': '–≤–æ–¥–æ–µ–º',
    'gender': '—Å–∞–º–µ—Ü'
}
```

### –ü—Ä–æ—Ü–µ—Å—Å —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è:

**1. –ù–∞—á–∞–ª—å–Ω—ã–π –∑–∞–ø—Ä–æ—Å:**
```sql
SELECT * FROM dragonflies WHERE 1=1
```

**2. –î–æ–±–∞–≤–ª—è–µ–º —É—Å–ª–æ–≤–∏—è –ø–æ –æ–¥–Ω–æ–º—É:**

```python
# sizeMin: 30
conditions.append("size_max >= %s")
values.append(30.0)
# SQL: SELECT * FROM dragonflies WHERE 1=1 AND size_max >= %s

# sizeMax: 50
conditions.append("size_min <= %s")
values.append(50.0)
# SQL: SELECT * FROM dragonflies WHERE 1=1 AND size_max >= %s AND size_min <= %s

# color: "—Å–∏–Ω–∏–π"
conditions.append("color ILIKE %s")
values.append("%—Å–∏–Ω–∏–π%")
# SQL: SELECT * FROM dragonflies WHERE 1=1 AND size_max >= %s AND size_min <= %s AND color ILIKE %s

# habitat: "–≤–æ–¥–æ–µ–º"
conditions.append("habitat ILIKE %s")
values.append("%–≤–æ–¥–æ–µ–º%")
# SQL: ... AND habitat ILIKE %s

# gender: "—Å–∞–º–µ—Ü"
conditions.append("description ILIKE %s")
values.append("%—Å–∞–º–µ—Ü%")
# SQL: ... AND description ILIKE %s
```

**3. –§–∏–Ω–∞–ª—å–Ω—ã–π –∑–∞–ø—Ä–æ—Å:**
```sql
SELECT * FROM dragonflies 
WHERE 1=1 
AND size_max >= %s 
AND size_min <= %s 
AND color ILIKE %s 
AND habitat ILIKE %s 
AND description ILIKE %s
```

**4. –ó–Ω–∞—á–µ–Ω–∏—è –¥–ª—è –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏:**
```python
values = [30.0, 50.0, "%—Å–∏–Ω–∏–π%", "%–≤–æ–¥–æ–µ–º%", "%—Å–∞–º–µ—Ü%"]
```

**5. –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ:**
```python
cursor.execute(query, values)
```

**6. –ß—Ç–æ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ PostgreSQL:**
```sql
SELECT * FROM dragonflies 
WHERE 1=1 
AND size_max >= 30.0 
AND size_min <= 50.0 
AND color ILIKE '%—Å–∏–Ω–∏–π%' 
AND habitat ILIKE '%–≤–æ–¥–æ–µ–º%' 
AND description ILIKE '%—Å–∞–º–µ—Ü%'
```

---

## üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å: –ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã

### ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û (–±–µ–∑–æ–ø–∞—Å–Ω–æ):
```python
query = "SELECT * FROM dragonflies WHERE color ILIKE %s"
values = ["%—Å–∏–Ω–∏–π%"]
cursor.execute(query, values)
```

**–ü–æ—á–µ–º—É –±–µ–∑–æ–ø–∞—Å–Ω–æ:**
- PostgreSQL —Å–∞–º –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è
- –ó–∞—â–∏—Ç–∞ –æ—Ç SQL-–∏–Ω—ä–µ–∫—Ü–∏–π
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤

### ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û (–æ–ø–∞—Å–Ω–æ):
```python
color = "—Å–∏–Ω–∏–π'; DROP TABLE dragonflies; --"
query = f"SELECT * FROM dragonflies WHERE color ILIKE '%{color}%'"
cursor.execute(query)
```

**–ü–æ—á–µ–º—É –æ–ø–∞—Å–Ω–æ:**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –≤—Å—Ç–∞–≤–∏—Ç—å –≤—Ä–µ–¥–æ–Ω–æ—Å–Ω—ã–π SQL –∫–æ–¥
- –ú–æ–∂–µ—Ç —É–¥–∞–ª–∏—Ç—å —Ç–∞–±–ª–∏—Ü—ã –∏–ª–∏ –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º
- –≠—Ç–æ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è SQL-–∏–Ω—ä–µ–∫—Ü–∏—è

---

## üìä –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ø–æ–ª–Ω—è–µ—Ç —Ñ–æ—Ä–º—É        ‚îÇ
‚îÇ    {color: "—Å–∏–Ω–∏–π", sizeMin: 30}       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
               ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 2. Vue.js –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç JSON               ‚îÇ
‚îÇ    POST /api/search                     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
               ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 3. Flask –ø–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ               ‚îÇ
‚îÇ    data = request.json                  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
               ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 4. Database.search_insects()           ‚îÇ
‚îÇ    –ù–∞—á–∞–ª–æ: SELECT * FROM dragonflies    ‚îÇ
‚îÇ            WHERE 1=1                   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
               ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 5. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —É—Å–ª–æ–≤–∏–π                  ‚îÇ
‚îÇ    if color: AND color ILIKE %s         ‚îÇ
‚îÇ    if sizeMin: AND size_max >= %s       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
               ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 6. –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —É—Å–ª–æ–≤–∏–π                 ‚îÇ
‚îÇ    query += " AND " + ...join(conditions)‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
               ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 7. –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞                   ‚îÇ
‚îÇ    cursor.execute(query, values)        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
               ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 8. –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤               ‚îÇ
‚îÇ    results = cursor.fetchall()          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
               ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 9. –í–æ–∑–≤—Ä–∞—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤                  ‚îÇ
‚îÇ    return [dict(row) for row in results]‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üí° –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### 1. –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ó–∞–ø—Ä–æ—Å —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- –ï—Å–ª–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä –Ω–µ —É–∫–∞–∑–∞–Ω, —É—Å–ª–æ–≤–∏–µ –Ω–µ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è

### 2. –ü–æ–∏—Å–∫ –≤ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –ø–æ–ª—è—Ö
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `ILIKE` –¥–ª—è –ø–æ–∏—Å–∫–∞ –±–µ–∑ —É—á–µ—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞
- `%` - —Å–∏–º–≤–æ–ª –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏ (–ª—é–±—ã–µ —Å–∏–º–≤–æ–ª—ã –¥–æ/–ø–æ—Å–ª–µ)

### 3. –ü–æ–∏—Å–∫ –≤ –æ–ø–∏—Å–∞–Ω–∏–∏
- –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (–ø–æ–ª, —Ü–≤–µ—Ç –≥–ª–∞–∑) –∏—â—É—Ç—Å—è –≤ –ø–æ–ª–µ `description`
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è

### 4. –î–∏–∞–ø–∞–∑–æ–Ω—ã –∑–Ω–∞—á–µ–Ω–∏–π
- –î–ª—è —Ä–∞–∑–º–µ—Ä–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ª–æ–≥–∏–∫–∞ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è –¥–∏–∞–ø–∞–∑–æ–Ω–æ–≤:
  - `size_max >= min` - –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –∑–∞–ø–∏—Å–∏ >= –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞
  - `size_min <= max` - –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –∑–∞–ø–∏—Å–∏ <= –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞

---

## üéØ –†–µ–∑—é–º–µ

**–ü—Ä–æ—Ü–µ—Å—Å —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞:**

1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å** ‚Üí –∑–∞–ø–æ–ª–Ω—è–µ—Ç —Ñ–æ—Ä–º—É –Ω–∞ —Å–∞–π—Ç–µ
2. **Vue.js** ‚Üí —Å–æ–±–∏—Ä–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç JSON
3. **Flask** ‚Üí –ø–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏ –ø–µ—Ä–µ–¥–∞–µ—Ç –≤ database.py
4. **Database.py** ‚Üí –Ω–∞—á–∏–Ω–∞–µ—Ç —Å –±–∞–∑–æ–≤–æ–≥–æ SELECT –∑–∞–ø—Ä–æ—Å–∞
5. **Database.py** ‚Üí –¥–æ–±–∞–≤–ª—è–µ—Ç —É—Å–ª–æ–≤–∏—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞
6. **Database.py** ‚Üí –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –≤—Å–µ —É—Å–ª–æ–≤–∏—è —á–µ—Ä–µ–∑ AND
7. **PostgreSQL** ‚Üí –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∑–∞–ø—Ä–æ—Å —Å –ø–æ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏
8. **Database.py** ‚Üí –ø–æ–ª—É—á–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏—Ö
9. **Flask** ‚Üí –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∫–ª–∏–µ–Ω—Ç—É
10. **Vue.js** ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –Ω–∞ —ç–∫—Ä–∞–Ω–µ

**–ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã:**
- ‚úÖ –ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã (–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)
- ‚úÖ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ (–≥–∏–±–∫–æ—Å—Ç—å)
- ‚úÖ –ü–æ–∏—Å–∫ –ø–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞–º (—Ç–æ—á–Ω–æ—Å—Ç—å)
- ‚úÖ –ü–æ–∏—Å–∫ –≤ —Ç–µ–∫—Å—Ç–µ (ILIKE –¥–ª—è –æ–ø–∏—Å–∞–Ω–∏–π)

